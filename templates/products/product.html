{% include "shared/base.html" %}

<div class="my-5 px-lg-5">
  {% include "components/product_card.html" %}
</div>


<div class="container mb-3 pb-3 border-bottom">

  <div class="row">
    <div class="col-auto">
      <h6>المنتجات المشابهه...</h6>
    </div>
      <div class="col d-flex justify-content-end align-items-center">
      {% include "components/product_listing_ordering.html" %}
      </div>
  </div>
</div>


{% if page %}
<div class="d-flex align-items-center justify-content-around mt-5 p-0 px-3" aria-label="Page navigation">
  <ul class="pagination">

    {% if page.has_previous %}
    <li class="page-item col-auto  p-0">
      <a class="page-link px-1" href="?page=1{% for key,value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}" aria-label="الاولى">
        <span aria-hidden="true">الاولى</span>
      </a>
    </li>
    <li class="page-item col-auto  p-0">
      <a
        class="page-link px-2"
        href="?page={{page.previous_page_number}}{% for key,value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}"
        aria-label="السابق"
        >
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {% endif %}

    {% if page.paginator.num_pages > 1 %}
    <li class="page-item col-4 p-0" style="border-right: 1px solid rgb(219, 219, 219); border-radius: 10%;">
        <input
        class="page-link text-start px-1 w-100 border-0 border-top border-bottom"
        id="id_page-number"
        placeholder="رقم الصفحة"
        type="number"
        name="page"
        >
    </li>
    {% endif %}
    
    <li class="page-item col-auto p-0">
      <div class="page-link px-1">
        {{page.number}} من {{page.paginator.num_pages}}
      </div>
    </li>  

    {% if page.has_next %}
    <li class="page-item col-auto  p-0">
      <a 
        class="page-link px-2" 
        href="?page={{page.next_page_number}}{% for key,value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}"
        aria-label="التالي"
        >
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
    <li class="page-item col-auto  p-0">
      <a 
        class="page-link px-1"
        href="?page={{page.paginator.num_pages}}{% for key,value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}"
        aria-label="التالي"
        >
        <span aria-hidden="true">الاخيره</span>
      </a>
    </li>
    {% endif %}
  </ul>
</div>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-6 m-0">
  {% for product in page %}
  <div class="col-6 mb-3">
      {% include "components/product_mincard.html" %}
  </div>
  {% endfor %}
</div>

{% else %}
<div class="container my-5">
  <p>• لا توجد منتجات</p>
</div>
{% endif %}



{% include "shared/footer.html" %}